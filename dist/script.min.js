function toTitleCase(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function reload(){window.location.reload(!0)}$(function(){!function(){var n=$(".search button"),e=$(document),a=$(".state-input"),c=$(".filter");function r(){o.on(),i.off(),$.ajax({method:"GET",url:"https://corona.lmao.ninja/v2/states",success:function(n){o.off(),t.showData(n)}})}n.click(r),e.keypress(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&(t.preventDefault(),r(),i.off())}),a.keyup(function(){i.on()}),$("body").on("click",".filter a",function(t){t.preventDefault();var n=t.currentTarget.innerText;a.val(n),a.focus()});var i={on:function(){$.ajax({method:"GET",url:"states.json",success:function(t){var n=t.filter(function(t){var n=new RegExp("^"+a.val(),"gi");return t.name.match(n)});0===a.val().length&&(n=[],i.off()),function(t){if(t.length>0){var n=t.map(function(t){return"<a href='#'>"+t.name+"</a>"}).join("");c.html(n)}}(n)}})},off:function(){c.html("")}}}();var t=function(){var t=$(".state-input"),o=$(".hide_clicked"),a=$(".results"),c=$(".search_results"),r=$("#totalCases"),i=$("#casesToday"),s=$(".percent_bar"),u=$("#USCases"),f=$(".filter");var h={countUp:function(t,n){new CountUp(t,0,n).start()},display:function(t,n){t.text(n)}};return{showData:function(l){o.hide(),a.show(),e.on(),f.html("");var d,p,v=toTitleCase(t.val()).trim(),m=0;$.each(l,function(t,e){m+=l[t].cases,v===l[t].state&&(n.hideError(),h.display(c,l[t].state),h.display(r,l[t].cases),h.countUp("casesToday",l[t].todayCases),h.countUp("totalDeaths",l[t].deaths),h.countUp("deathsToday",l[t].todayDeaths))}),d=m,p=function(){h.countUp("totalCases",r.text()),h.countUp("USCases",u.text())},s.css({right:"100%"}),setTimeout(function(){var t,n,e;s.css({right:(t=parseInt(r.text()),n=Math.ceil(d),e=t/n,100-Math.ceil(100*e)+"%")}),p()},100),u.text(Math.ceil(d)),n.check(i,o,a)}}}(),n=function(){var t=$(".error"),n=$(".state-input"),o=$(".search_results");return{check:function(a,c,r){a.text()||(c.hide(),r.hide(),t.show(),e.on(),o.text(n.val()))},hideError:function(){t.hide()}}}(),e=function(){var t=$(".back_home");return t.click(reload),{on:function(){t.show()},off:function(){t.hide()}}}(),o=function(){var t=$(".loading");return{on:function(){t.show()},off:function(){t.hide()}}}()});